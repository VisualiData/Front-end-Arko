{{ define "content" }}<br>
<div class="columns large-4 align-center container-padded">
  <form method="post" action="sensor/add">
    <div class="sign-in-form">
      <h4 class="text-center">Add sensor</h4>
      <label for="sign-in-form-username">Sensor ID / Sensor name</label>
      <input type="text" name="sensor_id" class="form-input-field" placeholder="CHIBB-Node-1" value="test" required>
      <label for="sign-in-form-password">Type(s)</label>
      <input type="text" name="sensorType" class="form-input-field" placeholder="Temperature" value="test" required>
      <label for="sign-in-form-password">Node name</label>
      <input type="text" name="nodeName" class="form-input-field" value="test">
      <label for="sign-in-form-password">Node type</label>
      <input type="text" name="nodeType" class="form-input-field" value="test">
      <!-- <label for="sign-in-form-password">X</label> -->
      <input type="hidden" name="x" id="field_x" class="form-input-field" disabled="disabled" required>
      <!-- <label for="sign-in-form-password">Y</label> -->
      <input type="hidden" name="y" id="field_y" class="form-input-field" disabled="disabled" required>
      <button type="submit" class="sign-in-form-button">Add</button>
    </div>
  </form>
</div>
<div class="columns large-8 align-center container-padded">
  <img src="/assets/img/CHIBB_0.png" id="floor_plan"/>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
$(document).ready(function() {
    $("img").on("click", function(event) {
      var img = $("#floor_plan");
        var currentClickPosX = event.pageX - this.offsetLeft;
        var currentClickPosY = event.pageY - this.offsetTop;
        var naturalWidth = img.prop("naturalWidth");
        var naturalHeight = img.prop("naturalHeight");
        var width = img.prop("width");
        var height = img.prop("height");
        var naturalClickPosX = (naturalWidth / width) * currentClickPosX;
        var naturalClickPosY = (naturalHeight / height) * currentClickPosY;
        console.log("X Coordinate: " + parseInt(naturalClickPosX) + " Y Coordinate: " + parseInt(naturalClickPosY));
        $("#field_x").val(parseInt(naturalClickPosX));
        $("#field_y").val(parseInt(naturalClickPosY));
    });
});
</script>
{{ end }}
